# Nginx cache configuration for Flutter web app
# Include this in your nginx server block

# Static assets with content hash - cache for 1 year
location ~* \.(js|css|woff|woff2|ttf|eot|ico|png|jpg|jpeg|gif|svg)$ {
    expires 1y;
    add_header Cache-Control "public, immutable";
}

# HTML files - no cache (always get latest)
location ~* \.html$ {
    expires -1;
    add_header Cache-Control "no-store, no-cache, must-revalidate";
}

# Service worker - no cache
location = /flutter_service_worker.js {
    expires -1;
    add_header Cache-Control "no-store, no-cache, must-revalidate";
}

# manifest.json - short cache
location = /manifest.json {
    expires 1h;
    add_header Cache-Control "public";
}

# API requests - no cache (handled by app)
location /api/ {
    expires -1;
    add_header Cache-Control "no-store";
}
